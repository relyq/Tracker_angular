<div *ngIf="isAdmin">
  <h2 i18n>New user</h2>
  <div *ngIf="!created">
    <div (keydown)="keydown($event, createUser)">
      <p>
        <mat-form-field appearance="fill" floatLabel="always">
          <mat-label i18n>Email</mat-label>
          <input
            matInput
            autocomplete="off"
            type="email"
            placeholder="Email"
            [(ngModel)]="userNew.email"
            name="email"
            required
          />
        </mat-form-field>
      </p>
      <p>
        <mat-form-field appearance="fill" floatLabel="always">
          <mat-label i18n>Password</mat-label>
          <input
            matInput
            autocomplete="off"
            type="password"
            placeholder="Password"
            [(ngModel)]="userNew.password"
            name="password"
            required
          />
        </mat-form-field>
      </p>
      <p>
        <mat-form-field appearance="fill" floatLabel="always">
          <mat-label i18n>Confirm password</mat-label>
          <input
            matInput
            autocomplete="off"
            type="password"
            placeholder="Password"
            [(ngModel)]="userNew.passwordConfirm"
            name="passwordConfirm"
            required
          />
        </mat-form-field>
      </p>
    </div>
    <div>
      <button type="button" mat-raised-button (click)="createUser()" i18n>
        Create user
      </button>

      <button
        type="button"
        mat-raised-button
        routerLink="{{
          path === 'tracker' ? '/tracker/user/' : '/admin/user/'
        }}"
        i18n>
        Back
      </button>
    </div>
  </div>
  <div *ngIf="created" class="flex">
    <p i18n>An confirmation email has been sent to {{ userNew.email }}</p>

    <button
      type="button"
      mat-raised-button
      routerLink="{{ path === 'tracker' ? '/tracker/user/' : '/admin/user/' }}"
      i18n>
      Back
    </button>
  </div>
</div>
