<div
  *ngIf="ticket"
  style="display: flex; flex-direction: column; align-items: flex-start"
>
  <h1>{{ ticket.title }}</h1>
  <div class="description">
    <p [innerHTML]="urlify(ticket.description)"></p>
  </div>
  <dl>
    <dt>Priority</dt>
    <dd>{{ ticket.priority }}</dd>
    <dt>Type</dt>
    <dd>{{ ticket.type }}</dd>
    <dt>Status</dt>
    <dd>{{ ticket.status }}</dd>
    <dt>Submitter</dt>
    <dd *ngIf="submitter">{{ submitter.email }}</dd>
    <dt>Assignee</dt>
    <dd *ngIf="assignee">{{ assignee.email }}</dd>
    <dt>Created</dt>
    <dd>{{ ticket.created + "Z" | date: "MMM d, y, HH:mm" }}</dd>
    <dt *ngIf="ticket.closed">Closed</dt>
    <dd *ngIf="ticket.closed">
      {{ ticket.closed + "Z" | date: "MMM d, y, HH:mm" }}
    </dd>
  </dl>

  <div *ngIf="canEdit">
    <button
      mat-raised-button
      color="accent"
      routerLink="/project/{{ ticket.projectId }}/ticket/edit/{{ ticket.id }}"
    >
      Edit
    </button>

    <button mat-raised-button color="primary" (click)="closeTicket()">
      {{ ticket.closed ? "Reopen" : "Close" }}
    </button>

    <button mat-raised-button color="delete" (click)="deleteTicket()">
      Delete
    </button>
  </div>

  <div>
    <button mat-stroked-button (click)="goBack()">Back to List</button>
  </div>

  <app-comments></app-comments>
</div>
